{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8082","description":"Generated server url"}],"tags":[{"name":"FHIR Patient","description":"FHIR R4 compliant Patient resource management"}],"paths":{"/api/fhir/r4/Patient/{id}":{"get":{"tags":["FHIR Patient"],"summary":"Read Patient resource","description":"Read a specific Patient resource by ID","operationId":"getPatient","parameters":[{"name":"id","in":"path","description":"Patient logical ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Patient found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FhirPatient"}}}},"404":{"description":"Patient not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FhirPatient"}}}}}},"put":{"tags":["FHIR Patient"],"summary":"Update Patient resource","description":"Update an existing Patient resource","operationId":"updatePatient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FhirPatient"}}},"required":true},"responses":{"200":{"description":"Patient updated","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FhirPatient"}}}},"404":{"description":"Patient not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FhirPatient"}}}}}},"delete":{"tags":["FHIR Patient"],"summary":"Delete Patient resource","description":"Delete a Patient resource","operationId":"deletePatient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Patient deleted"},"404":{"description":"Patient not found"}}}},"/api/fhir/r4/Patient":{"get":{"tags":["FHIR Patient"],"summary":"Search for Patient resources","description":"Search for Patient resources using FHIR search parameters","operationId":"searchPatients","parameters":[{"name":"identifier","in":"query","description":"Patient identifier","required":false,"schema":{"type":"string"}},{"name":"family","in":"query","description":"Patient family name","required":false,"schema":{"type":"string"}},{"name":"given","in":"query","description":"Patient given name","required":false,"schema":{"type":"string"}},{"name":"gender","in":"query","description":"Patient gender","required":false,"schema":{"type":"string"}},{"name":"birthdate","in":"query","description":"Patient birth date","required":false,"schema":{"type":"string"}},{"name":"active","in":"query","description":"Patient active status","required":false,"schema":{"type":"boolean"}},{"name":"_count","in":"query","description":"Number of results per page","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"_offset","in":"query","description":"Search offset","required":false,"schema":{"type":"integer","format":"int32","default":0}}],"responses":{"200":{"description":"Search results","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FhirBundle"}}}}}},"post":{"tags":["FHIR Patient"],"summary":"Create Patient resource","description":"Create a new Patient resource","operationId":"createPatient","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FhirPatient"}}},"required":true},"responses":{"201":{"description":"Patient created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FhirPatient"}}}},"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FhirPatient"}}}}}}},"/api/fhir/r4/Patient/{id}/$eligibility":{"get":{"tags":["FHIR Patient"],"summary":"Patient eligibility operation","description":"FHIR operation to check patient eligibility for blood donation","operationId":"checkEligibility","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Eligibility result","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}}},"components":{"schemas":{"Address":{"required":["postalCode"],"type":"object","properties":{"use":{"type":"string","description":"The purpose of this address","enum":["home","work","temp","old","billing"]},"line":{"type":"array","description":"Street name, number, direction & P.O. Box etc.","items":{"type":"string","description":"Street name, number, direction & P.O. Box etc."}},"city":{"type":"string","description":"Name of city, town etc."},"state":{"type":"string","description":"Sub-unit of country (abbreviations ok)"},"postalCode":{"pattern":"\\d{5}(-\\d{4})?","type":"string","description":"Postal code for area"},"country":{"type":"string","description":"Country (e.g. may be ISO 3166 2 or 3 letter code)"}},"description":"An address expressed using postal conventions"},"BloodTypeExtension":{"required":["aboGroup","rhFactor"],"type":"object","properties":{"aboGroup":{"type":"string","description":"ABO blood group","enum":["A","B","AB","O"]},"rhFactor":{"type":"string","description":"Rh factor","enum":["+","-"]}},"description":"Blood type extension for blood banking"},"ContactPoint":{"required":["value"],"type":"object","properties":{"system":{"type":"string","description":"Telecommunications form for contact point","enum":["phone","fax","email","pager","url","sms","other"]},"value":{"type":"string","description":"The actual contact point details"},"use":{"type":"string","description":"Specify preferred order of use","enum":["home","work","temp","old","mobile"]}},"description":"Details for all kinds of technology mediated contact points"},"DonorStatusExtension":{"required":["status"],"type":"object","properties":{"status":{"type":"string","description":"Current donor status","enum":["active","inactive","deferred","permanently-deferred"]},"lastDonationDate":{"type":"string","description":"Last donation date","format":"date"},"nextEligibleDate":{"type":"string","description":"Next eligible donation date","format":"date"}},"description":"Donor status extension for blood banking"},"FhirPatient":{"required":["birthDate","gender","identifier","name","resourceType"],"type":"object","properties":{"resourceType":{"type":"string","description":"FHIR resource type","example":"Patient"},"identifier":{"type":"string","description":"Logical id of this artifact","example":"patient-123"},"meta":{"$ref":"#/components/schemas/Meta"},"name":{"type":"array","description":"A name associated with the patient","items":{"$ref":"#/components/schemas/HumanName"}},"telecom":{"type":"array","description":"A contact detail for the individual","items":{"$ref":"#/components/schemas/ContactPoint"}},"gender":{"pattern":"male|female|other|unknown","type":"string","description":"Administrative Gender","enum":["male","female","other","unknown"]},"birthDate":{"type":"string","description":"The date of birth for the individual","format":"date","example":"1985-06-15"},"address":{"type":"array","description":"An address for the individual","items":{"$ref":"#/components/schemas/Address"}},"active":{"type":"boolean","description":"Whether this patient record is in active use"},"bloodType":{"$ref":"#/components/schemas/BloodTypeExtension"},"donorStatus":{"$ref":"#/components/schemas/DonorStatusExtension"}},"description":"FHIR R4 Patient resource with proper field naming and structure"},"HumanName":{"required":["family","given"],"type":"object","properties":{"use":{"type":"string","description":"The use of a human name","enum":["usual","official","temp","nickname","anonymous","old","maiden"]},"family":{"type":"string","description":"Family name (often called 'Surname')"},"given":{"type":"array","description":"Given names (not always 'first'). Includes middle names","items":{"type":"string","description":"Given names (not always 'first'). Includes middle names"}}},"description":"A human's name with the ability to identify parts and usage"},"Meta":{"type":"object","properties":{"lastUpdated":{"type":"string","description":"When the resource version last changed","format":"date-time"},"versionId":{"type":"string","description":"Version specific identifier"}},"description":"Metadata about the resource"},"BundleEntry":{"type":"object","properties":{"link":{"type":"array","description":"Links related to this entry","items":{"$ref":"#/components/schemas/BundleLink"}},"fullUrl":{"type":"string","description":"URI for resource (Absolute or relative)"},"resource":{"$ref":"#/components/schemas/FhirPatient"},"search":{"$ref":"#/components/schemas/Search"}},"description":"Entry in the bundle - will have a resource or information"},"BundleLink":{"required":["relation","url"],"type":"object","properties":{"relation":{"type":"string","description":"Link relation","enum":["self","first","previous","next","last"]},"url":{"type":"string","description":"Reference details"}},"description":"Links related to this Bundle"},"FhirBundle":{"required":["resourceType","type"],"type":"object","properties":{"resourceType":{"type":"string","description":"FHIR resource type","example":"Bundle"},"id":{"type":"string","description":"Logical id of this artifact"},"meta":{"$ref":"#/components/schemas/Meta"},"type":{"type":"string","description":"Bundle type","enum":["document","message","transaction","transaction-response","batch","batch-response","history","searchset","collection"]},"timestamp":{"type":"string","description":"When the bundle was assembled","format":"date-time"},"total":{"type":"integer","description":"If search, the total number of matches","format":"int32"},"entry":{"type":"array","description":"Entry in the bundle - will have a resource or information","items":{"$ref":"#/components/schemas/BundleEntry"}},"link":{"type":"array","description":"Links related to this Bundle","items":{"$ref":"#/components/schemas/BundleLink"}}},"description":"FHIR R4 Bundle resource containing a collection of resources"},"Search":{"type":"object","properties":{"score":{"type":"number","description":"Search ranking (between 0 and 1)","format":"double"},"mode":{"type":"string","description":"Why this entry is in the result set","enum":["match","include","outcome"]}},"description":"Search related information"}}}}